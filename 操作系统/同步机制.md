
为什么需要同步机制：
在单个进程环境中执行多个任务。单个进程中的所有线程可以访问相同的进程组件，如文件描述符和内存。
每当你尝试在多个用户之间共享单一资源时，你必须处理一致性问题

POSIX线程库中的同步机制

线程同步工具：
读写锁、条件变量、自旋锁、屏障

读写锁是一种支持多个线程同时读取共享资源，但对写操作进行独占锁定的机制。在需要高并发读操作的场景中非常有用。POSIX标准提供了带有超时功能的读写锁操作

条件变量允许线程在某些条件满足之前进行阻塞等待，通常与互斥锁结合使用，以避免竞争条件。它们在多线程程序中非常有用，特别是在某些条件被满足时需要通知其他线程继续执行的场景

自旋锁与互斥锁类似，但不同之处在于，线程在尝试获取锁时，不会进入阻塞状态，而是会忙等（即“旋转”）直到锁被释放。这种锁**适合在锁持有时间较短**的场景，避免了线程上下文切换带来的开销。

屏障是一个同步机制，允许一组线程在某个特定点上同步。当所有线程都到达该点时，它们才能继续执行。屏障非常适用于并行计算中的阶段性同步