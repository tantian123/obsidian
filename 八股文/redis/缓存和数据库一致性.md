分析问题：
本质还是**并发问题**（读写 写写）
从增删改查来分析 
增和查没有一致性问题
对于删来说，（写写并发）
先删缓存再删数据库，此时如果有查询，缓存就会有数据，数据库中无数据
先删数据库再删缓存，还是会存在并发问题，但是**最终一致**的

对于改来说（读写并发）
如果先删缓存，而是再更新数据库
线程1写入，删完缓存后，遇到GC阻塞
线程2查询，将老数据写入缓存，线程1再更新数据库
此时 缓存和数据库不一致

那先更新数据库能解决前面的问题，但是有什么新问题（读写并发）
初始中缓存无数据
T1查询数据库，准备写缓存但是卡顿
T2 更新数据库 删除缓存
T1 恢复 写入缓存
后续查询的都是T1查询到的值



解决方案
**延迟双删**（没有必要 实际不能落地）
在数据库更新后，延迟一段时间再次删除缓存，防止并发读导致旧数据回填


最佳实践
监听mysql的binlog 再使用mq进行异步刷新redis