redis 的主从同步怎么实现，为什么是fork子进程不是用线程  